<!-- 网页头部 -->
<template>
  <div class="animation-top">
    <Head_Top :navishow="Tshow" />
    <div class="bg-color">
      <div class="animated-banner">
        <div class="layer"><img src="~assets/imgs/headlayer1.webp" data-height="141" data-width="1500" height="155"
            width="1650"
            style="height: 155.1px; width: 1650px; transform: translate(0px, 0px) rotate(0deg) scale(1); opacity: 1;">
        </div>
        <div class="layer"><img src="~assets/imgs/headlayer2.webp" data-height="247" data-width="999" height="185"
            width="749"
            style="height: 185.25px; width: 749.25px; transform: translate(-150px, -15px) rotate(0deg) scale(1); opacity: 1;">
        </div>
        <div class="layer"><video autoplay muted="muted" loop="" src="~assets/imgs/loop_wind.webm" playsinline=""
            width="150" height="155"
            style="object-fit: cover; height: 155.25px; width: 150px; transform: translate(135px, -56.25px) rotate(0deg) scale(1); filter: blur(0.5px); opacity: 1;"
            data-height="207" data-width="200"></video></div>
        <div class="layer"><img src="~assets/imgs/headlayer3.webp" data-height="308" data-width="298" height="184"
            width="178"
            style="height: 184.8px; width: 178.8px; transform: translate(-240px, -90px) rotate(0deg) scale(1); filter: blur(1px); opacity: 1;">
        </div>
        <div class="layer"><img src="~assets/imgs/headlayer4.webp" data-height="241" data-width="1998" height="156"
            width="1298"
            style="height: 156.65px; width: 1298.7px; transform: translate(0px, 0px) rotate(0deg) scale(1); opacity: 1;">
        </div>
        <div class="layer"><img src="~assets/imgs/headlayer5.webp" data-height="264" data-width="1004" height="184"
            width="702"
            style="height: 184.8px; width: 702.8px; transform: translate(0px, -21px) rotate(0deg) scale(1); opacity: 1;">
        </div>
        <div class="layer"><img src="~assets/imgs/headlayer6.webp" data-height="284" data-width="399" height="198"
            width="279"
            style="height: 198.8px; width: 279.3px; transform: translate(-420px, 0px) rotate(0deg) scale(1); opacity: 1;">
        </div>
        <div class="layer"><img src="~assets/imgs/headlayer7.webp" data-height="104" data-width="1505" height="60"
            width="872"
            style="height: 60.32px; width: 872.9px; transform: translate(58px, 60.9px) rotate(0deg) scale(1); opacity: 1;">
        </div>
        <div class="layer"><img src="~assets/imgs/headlayer8.webp" data-height="395" data-width="616" height="98"
            width="154"
            style="height: 98.75px; width: 154px; transform: translate(62.5px, 7.5px) rotate(0deg) scale(1); opacity: 1;">
        </div>
        <div class="layer"><img src="~assets/imgs/headlayer10.webp" data-height="274" data-width="372" height="82"
            width="111"
            style="height: 82.2px; width: 111.6px; transform: translate(-105px, 15px) rotate(0deg) scale(1); opacity: 1;">
        </div>
        <div class="layer"><img src="~assets/imgs/headlayer9.webp" data-height="143" data-width="200" height="114"
            width="160"
            style="height: 114.4px; width: 160px; transform: translate(-304px, 20px) rotate(0deg) scale(1); opacity: 1;">
        </div>
        <div class="layer"><img src="~assets/imgs/headlayer11.webp" data-height="307" data-width="541" height="92"
            width="162"
            style="height: 92.1px; width: 162.3px; transform: translate(120px, 24px) rotate(0deg) scale(1); opacity: 1;">
        </div>
        <div class="layer"><img src="~assets/imgs/headlayer12.webp" data-height="158" data-width="155" height="47"
            width="46"
            style="height: 47.4px; width: 46.5px; transform: translate(300px, -15px) rotate(0deg) scale(1); opacity: 1;">
        </div>
        <div class="layer"><video autoplay muted="muted" loop="" src="~assets/imgs/loop_fire.webm" playsinline=""
            width="450" height="226"
            style="object-fit: cover; height: 226.8px; width: 450px; transform: translate(-18px, 9px) rotate(0deg) scale(1); opacity: 1;"
            data-height="252" data-width="500"></video></div>
        <div class="layer"><img src="~assets/imgs/headlayer13.webp" data-height="359" data-width="510" height="100"
            width="142"
            style="height: 100.52px; width: 142.8px; transform: translate(-224px, 42px) rotate(0deg) scale(1); filter: blur(1px); opacity: 1;">
        </div>
        <div class="layer"><img src="~assets/imgs/headlayer14.webp" data-height="389" data-width="865" height="97"
            width="216"
            style="height: 97.25px; width: 216.25px; transform: translate(300px, 40px) rotate(0deg) scale(1); filter: blur(1px); opacity: 1;">
        </div>
        <div class="layer"><img src="~assets/imgs/headlayer15.webp" data-height="267" data-width="400" height="146"
            width="220"
            style="height: 146.85px; width: 220px; transform: translate(-495px, 16.5px) rotate(0deg) scale(1); filter: blur(2px); opacity: 1;">
        </div>
        <div class="layer"><img src="~assets/imgs/headlayer16.webp" data-height="180" data-width="99" height="180"
            width="99"
            style="height: 180px; width: 99px; transform: translate(-350px, 0px) rotate(0deg) scale(1); filter: blur(2px); opacity: 1;">
        </div>
        <div class="layer"><img src="~assets/imgs/headlayer17.webp" data-height="199" data-width="598" height="159"
            width="478"
            style="height: 159.2px; width: 478.4px; transform: translate(-800px, 0px) rotate(0deg) scale(1); filter: blur(0.8px); opacity: 1;">
        </div>
        <div class="layer"><img src="~assets/imgs/headlayer18.webp" data-height="262" data-width="498" height="183"
            width="348"
            style="height: 183.4px; width: 348.6px; transform: translate(805px, 0px) rotate(0deg) scale(1); filter: blur(2px); opacity: 1;">
        </div>
        <div class="layer"><img src="~assets/imgs/headlayer19.webp" data-height="151" data-width="800" height="181"
            width="960"
            style="height: 181.2px; width: 960px; transform: translate(360px, 0px) rotate(0deg) scale(1); filter: blur(2px); opacity: 1;">
        </div>
      </div>
      <div class="placeholder">
        <div v-if="!navishow">
          <a class="logo" href="/">
            <svg data-v-decfdd8a="" version="1.0" xmlns="http://www.w3.org/2000/svg"
              xmlns:xlink="http://www.w3.org/1999/xlink" width="256px" height="88" viewBox="112 84 104 96"
              style="margin-top: 12px;" preserveAspectRatio="xMidYMid meet" color-interpolation-filters="sRGB">
              <g data-v-decfdd8a="" fill="#ff7575" class="bordersvg b-d1" transform="translate(64.5,87.27375030517578)">
                <g transform="translate(0,0)">
                  <g>
                    <rect stroke-width="3" stroke="#ff7575" fill-opacity="0" x="0" y="0" rx="30.25" ry="30.25" width="211"
                      height="60.5"></rect>
                  </g>
                  <g data-gra="path-name" fill-rule="" class="tp-name" fill="#ff7575" transform="translate(20,10)">
                    <g transform="scale(1)">
                      <g>
                        <path
                          d="M6.03-36.9L10.53-36.9 10.53-27.47 11.9-27.47 11.9-40.5 16.4-40.5 16.4-27.47 17.73-27.47 17.73-23.87 16.4-23.87 16.4 0 11.9 0 11.9-23.87 10.53-23.87 10.53-8.77Q10.53-5.87 9.08-3.6L9.08-3.6 4.5-3.6Q6.03-5.91 6.03-8.77L6.03-8.77 6.03-23.87 6.03-27.47 6.03-36.9ZM36-3.6L36-18.9 23.6-18.9 23.6-3.6 36-3.6ZM40.5 0L37.53 0 36 0 24.5 0Q22.27 0 20.68-1.58 19.1-3.17 19.1-5.4L19.1-5.4 19.1-18.9 19.1-20.27 19.1-22.5 40.5-22.5 40.5-20.27 40.5-18.9 40.5 0ZM38.39-33.3L40.5-29.7 40.5-26.1 19.1-26.1 19.1-29.7 25.71-40.5 30.56-40.5 23.95-29.7 35.33-29.7 33.22-33.3 38.39-33.3ZM63.16-0.04L63.16 0Q60.93 0 59.34-1.6 57.76-3.21 57.76-5.4L57.76-5.4 57.76-40.46 62.26-40.46 62.26-3.64 77.24-3.64 77.24-0.04 63.16-0.04ZM79.47-7.43L79.47-36.9 83.97-36.9 83.97-7.43Q83.97-4.54 85.5-2.27L85.5-2.27 80.88-2.27Q79.47-4.58 79.47-7.43L79.47-7.43ZM51.03-36.9L55.53-36.9 55.53-7.43Q55.53-4.58 54.12-2.27L54.12-2.27 49.5-2.27Q51.03-4.54 51.03-7.43L51.03-7.43 51.03-36.9ZM68.99-14.2L68.99-36.9 73.49-36.9 73.49-14.2Q73.49-11.31 74.97-9L74.97-9 70.4-9Q68.99-11.35 68.99-14.2L68.99-14.2ZM101.27-2.27L105.5-16.79Q103.66-17.18 102.46-18.67 101.27-20.15 101.27-22.07L101.27-22.07 101.27-27.47 101.27-31.03 103.34-31.03 101.27-34.63 106.43-34.63 108.55-31.03 116.45-31.03 118.57-34.63 123.77-34.63 121.66-31.03 123.77-31.03 123.77-27.47 123.77-16.67 121.5-16.67 119.27-16.67 119.27-5.87 123.77-5.87 123.77-2.27 120.17-2.27Q117.94-2.27 116.35-3.85 114.77-5.44 114.77-7.67L114.77-7.67 114.77-16.67 110.23-16.67 106.04-2.27 101.27-2.27ZM119.27-27.47L105.77-27.47 105.77-20.23 119.27-20.23 119.27-27.47ZM94.5-36.9L99-36.9 99 0 94.5 0 94.5-36.9ZM130.5-40.5L130.5-36.9 130.5-5.17Q130.5-4.42 130.36-3.58 130.23-2.74 129.89-1.78 129.56-0.82 129.09 0L129.09 0 124.47 0Q126-2.27 126-5.17L126-5.17 126-36.9 108-36.9 108-40.5 130.5-40.5ZM104.36-40.5L106.47-36.9 101.27-36.9 99.16-40.5 104.36-40.5ZM141.03-5.17L141.03-27.47 139.5-27.47 139.5-31.07 141.03-31.07 145.53-31.07 145.53-27.47 145.53-5.17Q145.53-2.31 147.05 0L147.05 0 142.47 0Q141.03-2.27 141.03-5.17L141.03-5.17ZM147.8-34.67L147.8-38.27 159.38-38.27 159.38-40.5 163.88-40.5 163.88-38.27 175.5-38.27 175.5-34.67 163.88-34.67 163.88-32.4 171-32.4 175.5-32.4 175.5-28.8 175.5-28.13Q175.5-25.24 174.05-22.93L174.05-22.93 169.47-22.93Q171-25.28 171-28.13L171-28.13 171-28.8 163.88-28.8 159.38-28.8 147.8-28.8 147.8-32.4 159.38-32.4 159.38-34.67 147.8-34.67ZM170.65 0L164.78-8.73 164.82-8.73 169.67-8.73 175.5 0 170.65 0ZM160.4-11.66L160.43-11.66 152.61 0 147.72 0 155.58-11.66 147.72-11.66 147.72-15.26 163.13-15.26 163.13-26.53 167.63-26.53 167.63-15.26 175.46-15.26 175.46-11.66 160.4-11.66ZM147.8-18L147.8-21.6 161.49-21.09 161.49-17.49 147.8-18ZM147.8-22.93L147.8-26.53 161.49-26.06 161.49-22.46 147.8-22.93ZM144.08-40.5L146.9-33.3 142.28-33.3 139.5-40.5 144.08-40.5Z"
                          transform="translate(-4.5, 40.5)"></path>
                      </g>
                    </g>
                  </g>
                </g>
                <g data-gra="path-slogan" fill-rule="" class="tp-slogan" transform="translate(61.53000259399414,66.5)">
                  <g transform="scale(1, 1)">
                    <g transform="scale(1)">
                      <path
                        d="M7.83-8.58L4.59-3.47L4.59 0L3.42 0L3.42-3.47L0.19-8.58L1.55-8.58L3.98-4.45L6.47-8.58L7.83-8.58ZM9.05-8.58L10.22-8.58L10.22 0L9.05 0L9.05-8.58ZM18.94-8.58L16.03-4.41L19.08 0L17.63 0L15.28-3.52L12.94 0L11.53 0L14.63-4.41L11.72-8.58L13.17-8.58L15.33-5.30L17.53-8.58L18.94-8.58ZM20.34-8.58L21.52-8.58L21.52 0L20.34 0L20.34-8.58ZM24.89-8.58L29.20-1.64L29.20-8.58L30.33-8.58L30.33 0L29.02 0L24.66-6.94L24.61-6.94L24.61 0L23.48 0L23.48-8.58L24.89-8.58ZM39.56-3.70L36.75-3.70L36.75 0L35.58 0L35.58-8.58L39.56-8.58Q42.42-8.58 42.42-6.28L42.42-6.28Q42.42-4.88 41.20-4.22L41.20-4.22Q42.23-3.94 42.23-2.58L42.23-2.58L42.33-1.03Q42.28-0.38 42.75-0.19L42.75-0.19L42.75 0L41.30 0Q41.16-0.61 41.11-2.16L41.11-2.16Q41.16-3.70 39.56-3.70L39.56-3.70ZM39.66-7.64L36.75-7.64L36.75-4.69L39.47-4.69Q41.20-4.69 41.20-6.19L41.20-6.19Q41.20-7.64 39.66-7.64L39.66-7.64ZM45.38-1.03L50.53-1.03L50.53 0L44.20 0L44.20-8.58L50.44-8.58L50.44-7.59L45.38-7.59L45.38-4.92L50.06-4.92L50.06-3.89L45.38-3.89L45.38-1.03ZM57.70 0L56.86-2.48L53.39-2.48L52.50 0L51.33 0L54.56-8.58L55.88-8.58L58.97 0L57.70 0ZM55.13-7.31L53.77-3.52L56.44-3.52L55.17-7.31L55.13-7.31ZM63.52 0L60.05 0L60.05-8.58L63.56-8.58Q67.03-8.39 67.17-4.41L67.17-4.41Q66.98-0.09 63.52 0L63.52 0ZM63.38-7.64L61.22-7.64L61.22-0.98L63.47-0.98Q65.91-1.13 66-4.31L66-4.31Q65.95-7.55 63.38-7.64L63.38-7.64ZM68.81-8.58L69.98-8.58L69.98 0L68.81 0L68.81-8.58ZM73.36-8.58L77.67-1.64L77.67-8.58L78.80-8.58L78.80 0L77.48 0L73.13-6.94L73.08-6.94L73.08 0L71.95 0L71.95-8.58L73.36-8.58ZM87-3.61L84.38-3.61L84.38-4.59L88.13-4.59L88.13 0L87.38 0L87.09-1.08Q86.11 0.09 84.28 0.14L84.28 0.14Q82.55 0.14 81.61-0.75L81.61-0.75Q80.20-2.06 80.25-4.36L80.25-4.36Q80.58-8.63 84.33-8.81L84.33-8.81Q87.52-8.63 87.98-6L87.98-6L86.86-6Q86.39-7.78 84.28-7.83L84.28-7.83Q81.61-7.64 81.47-4.31L81.47-4.31Q81.47-0.75 84.33-0.75L84.33-0.75Q85.36-0.75 86.11-1.31L86.11-1.31Q87.05-2.06 87-3.61L87-3.61Z"
                        transform="translate(-0.1875, 8.8125)"></path>
                    </g>
                  </g>
                </g>
              </g>
              <defs v-gra="od"></defs>
            </svg>
          </a>
        </div>
      </div>
      <Head_Nav />
    </div>
  </div>
</template>
<script>
import Head_Top from "./HeadTop.vue";
import Head_Nav from "./HeadNav.vue";
import "css/head/head.css";
export default {
  name: "Web_Head",
  mounted() {
    window.addEventListener('scroll', this.handleScroll, true)
    const banner = document.querySelector(".animation-top")
    const layers = document.querySelectorAll(".layer img, .layer video")
    const translateRegex = /translate\((-?\d+\.?\d*)px, (-?\d+\.?\d*)px\)/;
    const layerloc = [];
    layers.forEach(layer => {
      const [, translateX, translateY] = layer.style.transform.match(translateRegex);
      layerloc.push([translateX, translateY])
    });
    banner.addEventListener('mouseenter', function (e) {
      this.x = e.clientX
    })
    banner.addEventListener('mousemove', function (e) {
      this._x = e.clientX
      const disx = this._x - this.x
      for (let i = 1; i < layers.length; i++) {
        if (i == 3) {
          layers[i].style.transition = `0s`
          layers[i].style.transform = `translate(${parseInt(layerloc[i][0]) + disx / 100}px, ${layerloc[i][1]}px) rotate(${disx / 24}deg)`
          continue
        }
        if (i >= 1 && i < 5) {
          layers[i].style.transition = `0s`
          layers[i].style.transform = `translate(${parseInt(layerloc[i][0]) + disx / 100}px, ${layerloc[i][1]}px)`
          continue
        }
        if (i >= 5 && i < 10) {
          layers[i].style.transition = `0s`
          layers[i].style.transform = `translate(${parseInt(layerloc[i][0]) + disx / 56}px, ${layerloc[i][1]}px)`
          continue
        }
        if (i >= 10 && i <= 12) {
          layers[i].style.transition = `0s`
          layers[i].style.transform = `translate(${parseInt(layerloc[i][0]) + disx / 42}px, ${layerloc[i][1]}px)`
          continue
        }
        if (i == 13) {
          layers[i].style.transition = `0s`
          layers[i].style.transform = `translate(${parseInt(layerloc[i][0]) + disx / 40}px, ${layerloc[i][1]}px)`
          continue
        }
        if ((i > 12 && i <= 16) || i == 20) {
          layers[i].style.transition = `0s`
          layers[i].style.transform = `translate(${parseInt(layerloc[i][0]) + disx / 16}px, ${layerloc[i][1]}px)`
          continue
        }
        if (i > 16 && i <= 20) {
          layers[i].style.transition = `0s`
          layers[i].style.transform = `translate(${parseInt(layerloc[i][0]) + disx / 9}px, ${layerloc[i][1]}px)`
          continue
        }
      }
    })
    banner.addEventListener('mouseleave', function () {
      for (let i = 0; i < layers.length; i++) {
        layers[i].style.transition = `.2s`
        layers[i].style.transform = `translate(${layerloc[i][0]}px, ${layerloc[i][1]}px)`
      }
    })
  },
  unmounted() {
    window.removeEventListener('scroll', this.handleScroll, true)
  },
  components: {
    Head_Top,
    Head_Nav,
  },
  data() {
    return {
      Tshow: false,
      freshtop: true,
      layerloc: [],
    }
  },
  methods: {
    handleScroll() {
      let scrollTop = document.documentElement.scrollTop
      if (scrollTop >= 50) {
        this.Tshow = true
      } else {
        this.Tshow = false
      }
    },
  },
};
</script>
<style scoped>
.animated-banner {
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  overflow: hidden;
}

.animated-banner>.layer {
  position: absolute;
  left: 0;
  top: 0;
  height: 100%;
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
}

.logo {
  cursor: pointer;
  position: relative;
  z-index: 200;
  height: 100px;
}

.placeholder {
  height: 110px;
}

.bg-color {
  position: relative;
  /* background: url(~assets/imgs/head_bcg.webp) no-repeat;
  background-size: cover; */
}
</style>